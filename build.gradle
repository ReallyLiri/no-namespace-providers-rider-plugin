plugins {
    id 'java'
    id 'org.jetbrains.kotlin.jvm' version '1.3.50'
    id 'org.jetbrains.intellij' version '0.4.10'
}

repositories {
    maven { url "https://www.jetbrains.com/intellij-repository/releases" }
    maven { url "https://jetbrains.bintray.com/intellij-third-party-dependencies" }
    mavenCentral()
    jcenter()
}

instrumentCode {
    compilerVersion = "192.6817.32" // latest build of com.jetbrains.intellij.java from https://www.jetbrains.com/intellij-repository/releases/
}

group 'com.reallyliri.plugins'
version '1.3'

sourceCompatibility = 1.8

compileKotlin {
    kotlinOptions { jvmTarget = "1.8" }
}

dependencies {
    testCompile group: 'junit', name: 'junit', version: '4.12'
}

intellij {
    // see https://www.jetbrains.com/help/resharper/sdk/Products/Rider.html#plugin-project-jvm
    type = 'RD'
    version = "2019.2-SNAPSHOT"
    downloadSources = false
    intellij.updateSinceUntilBuild false
}

publishPlugin {
    token = System.getenv("ORG_GRADLE_PROJECT_intellijPublishToken")
}
